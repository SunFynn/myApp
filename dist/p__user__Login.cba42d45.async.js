(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[19],{ObQG:function(e,t,a){e.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",icon:"icon___rzGKO"}},PdsH:function(e,t,a){"use strict";a.r(t);a("Znn+");var r=a("ZTPi"),c=a("qLMh"),n=(a("miYZ"),a("tsqr")),s=a("9og8"),i=a("tJVT"),o=(a("fOrg"),a("+KLJ")),u=a("q1tI"),l=a("Y0UT"),b=a("80zm"),j=a("CZrw"),p=a("cJ7L"),m=a("FY4R"),d=a("3flX"),O=a("mMub"),x=a("Qurx"),f=a("/aGu"),h=a("tneF"),g=a("9kvl"),y=a("CwrG"),w=a("/MKj"),v=a("ObQG"),k=a.n(v),_=a("nKUr"),N=function(e){var t=e.content;return Object(_["jsx"])(o["a"],{style:{marginBottom:24},message:t,type:"error",showIcon:!0})},P=function(e){var t=e.dispatch,a=Object(u["useState"])({}),o=Object(i["a"])(a,2),w=o[0],v=o[1],P=Object(u["useState"])("account"),z=Object(i["a"])(P,2),C=z[0],T=z[1],q=function(){var e=Object(s["a"])(Object(c["a"])().mark((function e(a){var r,s,i,o,u;return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,"account"===C&&["admin","user"].includes(a.username||"")&&"121828"===a.password?(r={status:"ok",type:"account",currentAuthority:a.username},t({type:"user/fetch",payload:{name:a.username}}),t({type:"user/fetchCurrent",payload:{name:a.username}}),t({type:"user/saveCurrentUser",payload:{msg:"\u76f4\u63a5\u8c03\u7528reducer\u4e2d\u7684\u51fd\u6570"}})):r="mobile"===C&&"121828"===a.captcha?{status:"ok",type:"mobile",currentAuthority:a.mobile}:"account"===C?{status:"error",type:"account"}:{status:"error",type:"mobile"},"ok"!==r.status){e.next=12;break}if(s={data:{username:a.username},time:Date.now(),storageTime:6e5},localStorage.setItem("isLogin",JSON.stringify(s)),n["default"].success("\u767b\u5f55\u6210\u529f"),g["b"]){e.next=8;break}return e.abrupt("return");case 8:return i=g["b"].location.query,o=i,u=o.redirect,g["b"].push(u||"/home"),e.abrupt("return");case 12:v(r),e.next=18;break;case 15:e.prev=15,e.t0=e["catch"](0),n["default"].error("\u767b\u5f55\u5931\u8d25\uff0c\u8bf7\u91cd\u8bd5\uff01");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),I=w.status,G=w.type;return Object(_["jsxs"])("div",{className:k.a.container,children:[Object(_["jsx"])("div",{className:k.a.content,children:Object(_["jsxs"])(O["a"],{title:"\u4e2a\u4eba\u6280\u672f\u6587\u6863",subTitle:"wtz\u7684\u4e2a\u4eba\u6280\u672f\u6587\u6863",initialValues:{autoLogin:!0},actions:["\u5176\u4ed6\u767b\u5f55\u65b9\u5f0f",Object(_["jsx"])(l["a"],{className:k.a.icon},"AlipayCircleOutlined"),Object(_["jsx"])(b["a"],{className:k.a.icon},"TaobaoCircleOutlined"),Object(_["jsx"])(j["a"],{className:k.a.icon},"WeiboCircleOutlined")],onFinish:function(){var e=Object(s["a"])(Object(c["a"])().mark((function e(t){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,q(t);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),children:[Object(_["jsxs"])(r["a"],{activeKey:C,onChange:T,children:[Object(_["jsx"])(r["a"].TabPane,{tab:"\u8d26\u6237\u5bc6\u7801\u767b\u5f55"},"account"),Object(_["jsx"])(r["a"].TabPane,{tab:"\u624b\u673a\u53f7\u767b\u5f55"},"mobile")]}),"error"===I&&"account"===G&&Object(_["jsx"])(N,{content:"\u8d26\u6237\u6216\u5bc6\u7801\u9519\u8bef"}),"account"===C&&Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsx"])(x["a"],{name:"username",fieldProps:{size:"large",prefix:Object(_["jsx"])(p["a"],{className:k.a.prefixIcon})},placeholder:"\u7528\u6237\u540d: admin or user",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u7528\u6237\u540d!"}]}),Object(_["jsx"])(x["a"].Password,{name:"password",fieldProps:{size:"large",prefix:Object(_["jsx"])(m["a"],{className:k.a.prefixIcon})},rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u5bc6\u7801\uff01"}]})]}),"error"===I&&"mobile"===G&&Object(_["jsx"])(N,{content:"\u9a8c\u8bc1\u7801\u9519\u8bef"}),"mobile"===C&&Object(_["jsxs"])(_["Fragment"],{children:[Object(_["jsx"])(x["a"],{fieldProps:{size:"large",prefix:Object(_["jsx"])(d["a"],{className:k.a.prefixIcon})},name:"mobile",placeholder:"\u624b\u673a\u53f7",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u624b\u673a\u53f7\uff01"},{pattern:/^1\d{10}$/,message:"\u624b\u673a\u53f7\u683c\u5f0f\u9519\u8bef\uff01"}]}),Object(_["jsx"])(f["a"],{fieldProps:{size:"large",prefix:Object(_["jsx"])(m["a"],{className:k.a.prefixIcon})},captchaProps:{size:"large"},placeholder:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801",captchaTextRender:function(e,t){return e?"".concat(t," '\u83b7\u53d6\u9a8c\u8bc1\u7801'"):"\u83b7\u53d6\u9a8c\u8bc1\u7801"},name:"captcha",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u9a8c\u8bc1\u7801\uff01"}],onGetCaptcha:Object(s["a"])(Object(c["a"])().mark((function e(){return Object(c["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:n["default"].success("\u83b7\u53d6\u9a8c\u8bc1\u7801\u6210\u529f!");case 1:case"end":return e.stop()}}),e)})))})]}),Object(_["jsxs"])("div",{style:{marginBottom:24},children:[Object(_["jsx"])(h["a"],{noStyle:!0,name:"autoLogin",children:"\u81ea\u52a8\u767b\u5f55"}),Object(_["jsx"])("a",{style:{float:"right"},children:"\u5fd8\u8bb0\u5bc6\u7801"})]})]})}),Object(_["jsx"])(y["a"],{})]})};t["default"]=Object(w["c"])()(P)}}]);